# =============================================================================
# GENERIC API TEST FRAMEWORK CONFIGURATION
# =============================================================================
# Copy this file to .env and update the values for your specific API

# API Configuration
API_BASE_URL=http://localhost:3000
API_NAME=Go Fiber E-Commerce API
API_VERSION=1.0.0
API_DESCRIPTION=A high-performance RESTful API built with Go Fiber framework

# Schema Configuration
OPENAPI_SCHEMA_PATH=schemas/api-schema.yaml
DREDD_HOOKS_PATH=tests/dredd-hooks.js

# Server Configuration
SERVER_START_COMMAND=go run main.go
SERVER_WAIT_TIME=3
SERVER_PORT=3000

# Database Configuration
DATABASE_URL=host=localhost user=postgres password=1234 dbname=ecommerce_api port=5432 sslmode=disable

# JWT Secret Key (use a strong, random key in production)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Server Port (optional, defaults to 3000)
PORT=3000

# Test Database (for running tests)
TEST_DATABASE_URL=host=localhost user=postgres password=1234 dbname=ecommerce_api_test port=5432 sslmode=disable

# Test Configuration
TEST_TIMEOUT=120s
DREDD_LOG_LEVEL=warning
DREDD_REPORTER=cli

# Test Data Configuration
UNIQUE_EMAIL_SUFFIX=@example.com

# Authentication Strategy Configuration
AUTH_TYPE=bearer
AUTH_HEADER_NAME=Authorization
AUTH_TOKEN_PREFIX=Bearer 
AUTH_REGISTER_ENDPOINT=/auth/register
AUTH_LOGIN_ENDPOINT=/auth/login
AUTH_TOKEN_FIELD=token

# API Response Configuration
SUCCESS_STATUS_CODES=200,201,202,204
ERROR_STATUS_CODES=400,401,403,404,409,422,500

# Auto-Discovery Configuration (NEW!)
ENABLE_AUTO_DISCOVERY=false
AUTO_DISCOVER_AUTH_ENDPOINTS=true
AUTO_DETECT_TOKEN_FIELDS=true
AUTO_DETECT_ID_FIELDS=true

# Field Pattern Configuration (for complex APIs)
TOKEN_FIELD_PATTERNS=token,access_token,accessToken,authToken,jwt,auth.token,data.token,result.token
ID_FIELD_PATTERNS=id,_id,uuid,identifier,pk,objectId
EMAIL_FIELD_PATTERNS=email,emailAddress,userEmail,mail
PASSWORD_FIELD_PATTERNS=password,passwd,pwd,pass

# CI/CD Configuration
ENABLE_CI_MODE=false
CI_API_URL=http://localhost:3000

# Framework Behavior
AUTO_SKIP_TESTS=false
ENABLE_DEBUG_LOGGING=true
ENABLE_DYNAMIC_DATA_GENERATION=true
ENABLE_ERROR_SIMULATION=true
